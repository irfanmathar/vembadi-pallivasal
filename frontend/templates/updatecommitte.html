{% extends 'base1.html' %}
{% block content %}

<style>
/* Page background */
body {
    background: linear-gradient(135deg, #e0f7e9, #c8e6c9);
    font-family: 'Arial', sans-serif;
}

/* Card design */
.edit-card {
    max-width: 600px;
    margin: 40px auto;
    background: #ffffff;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    animation: fadeIn 0.6s ease-in-out;
}

/* Animation */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* Title */
.edit-card h2 {
    text-align: center;
    font-size: 26px;
    font-weight: bold;
    color: #1b5e20;
    margin-bottom: 25px;
}

/* Labels */
label {
    font-weight: bold;
    color: #2e7d32;
    margin-top: 10px;
}

/* Input styling */
.form-control {
    width: 100%;
    padding: 12px;
    border: 1px solid #a5d6a7;
    border-radius: 8px;
    margin-bottom: 15px;
    transition: 0.3s;
}

.form-control:focus {
    border-color: #2e7d32;
    box-shadow: 0 0 6px rgba(46, 125, 50, 0.4);
}

/* Submit button */
.btn-primary {
    width: 40%;
    background: #2e7d32;
    border: none;
    padding: 12px;
    border-radius: 8px;
    font-weight: bold;
    font-size: 16px;
    transition: 0.3s;
}

.btn-primary:hover {
    background: #1b5e20;
}

/* Display old photo */
.old-photo {
    text-align: center;
    margin-bottom: 20px;
}

.old-photo img {
    width: 140px;
    height: 140px;
    border-radius: 10px;
    border: 3px solid #c8e6c9;
}
</style>

<div class="edit-card">

    <h2>Edit Committee Member</h2>
    {% if messages %}
<div class="container mt-3">
    {% for message in messages %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    {% endfor %}
</div>
{% endif %}


    <!-- Show Old Photo -->
    <div class="old-photo">
        <img src="{{ member.photo.url }}" alt="Member Photo">
        <p style="color:#2e7d32; font-weight:bold; margin-top:5px;">Current Photo</p>
    </div>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <label>Name</label>
        <input type="text" name="name" value="{{ member.name }}" class="form-control" required>

        <label>Family Name</label>
        <input type="text" name="family_name" value="{{ member.family_name }}" class="form-control" required>
        <label>Phone Number</label>
        <input type="text" name="phone_number" value="{{ member.phone_number }}" class="form-control" required>

        <label>Role</label>
        <input type="text" name="role" value="{{ member.role }}" class="form-control" required>

        <label>Posting Start Date</label>
        <input type="date" name="posting_start_date" value="{{ member.posting_start_date }}" class="form-control" required>

        <label>Change Photo</label>
        <input type="file" name="photo" class="form-control">

        <button type="submit" class="btn btn-primary">Update Member</button>
    </form>

</div>

{% endblock %}
